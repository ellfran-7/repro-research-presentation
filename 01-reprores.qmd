---
title: "Reproducible Research"
subtitle: "Open-Discussion"
author:
  - name: "Ellis Franklin"
  - name: "Elise Billoir"
date: "2025-02-06"
date-format: long
format:
  revealjs:
    theme: [default, slide-styles.scss]
    code-block-height: 700px
    width: 1600
    height: 900
    footer: "CS-WORKSHOP Feb 2025 | Materials: [ellfrank7/repro-research-workshop](https://github.com/ellfran-7/repro-research-workshop)"
    transition: fade
    background-transition: fade
    auto-animate-easing: ease-in-out
    auto-animate-unmatched: false
    auto-animate-duration: 0.8
execute:
  cache: true
echo: false
slide-number: true
code-line-numbers: false
from: markdown+emoji
bibliography: references.bib
---

```{r}
#| include: false

knitr::opts_chunk$set(
    out.width = "70%", # enough room to breath
    fig.width = 6,     # reasonable size
    fig.asp = 0.618,   # golden ratio
    fig.align = "center" 
)

```

# Table of Contents

-   [Introduction to RR](#intro-to-rr)
-   [Sources of irreproducibility](#sources-of-nr)
-   [Every little helps: Literate Programming with Quarto](#lp-quarto)
-   [References](#refs)

# Introduction to RR {#intro-to-rr}

## Have you ever encountered challenges when trying to reproduce data analyses? {style="text-align: center;"}

<br/>

::: fragment
```{r, dev="png", dev.args=list(bg="transparent")}
#| fig-align: 'center'
#| echo: false
#| warning: false
#| error: false
 
library(ggplot2)
library(dplyr)
library(showtext)

# add Google Fonts (Nunito and Roboto)
font_add_google("Nunito", "nunito")
font_add_google("Roboto", "roboto")

# automatically use showtext for plotting
showtext_auto()

surv_data <- read.csv2(file = here::here("data", "evento-survey-data.csv"))

tidy_surv_data <- surv_data |> 
  dplyr::select(8) |> # select the eight col
  dplyr::slice(-n()) |> # remove the last col
  dplyr::rename(answer = 1) |> # rename the selected col
  dplyr::mutate(answer = factor(answer, levels = c(0, 1), labels = c("no", "yes"))) # associate binary to yes and no

total_count <- nrow(tidy_surv_data)

# Create the barplot
ggplot(tidy_surv_data, aes(x = answer, fill = answer)) +
  geom_bar() +
  scale_fill_manual(values = c("yes" = "lightgreen", "no" = "lightcoral")) +
  labs(
    x = "Answer",
    y = "Count"
  ) +
  theme_bw() +
  coord_flip() +
  theme(
    text = element_text(size = 40),
    plot.title = element_text(hjust = 0.5, family = "roboto"),
    plot.subtitle = element_text(hjust = 0.5, family = "nunito"),
    axis.title = element_text(family = "roboto"), 
    plot.background = element_rect(fill = "transparent", color = NA), # Make plot background transparent
    panel.background = element_rect(fill = "transparent", color = NA), # Make panel background transparent
    legend.background = element_rect(fill = "transparent", color = NA), # Make legend background transparent
  )

```
:::

## What does reproducibility mean to you? :thinking: {style="text-align: center;"}

[Create WOOCLAP then add QR code and code for session !!!]{style="color: red"}

## What does reproducibility mean actually?

:::: columns
::: {.column width="50%"}

<br/> <br/>

-   Difficult question to answer...
-   "Lack of reproducibility"<br /> :arrow_right: understood but broad expression
-   No clear definition<br /> :arrow_right: varies between the disciplines
:::

::: {.column width="50%"}

:::
::::


## What does reproducibility mean actually?


:::: columns
::: {.column width="50%"}

<br/> <br/>

-   Difficult question to answer...
-   "Lack of reproducibility"<br /> :arrow_right: understood but broad expression
-   No clear definition<br /> :arrow_right: varies between the disciplines
:::

::: {.column width="50%"}
![Gundersen Odd Erik 2021 The fundamental principles of reproducibility Phil. Trans. R. Soc. A.37920200210 DOI: [10.1098/rsta.2020.0210](http://doi.org/10.1098/rsta.2020.0210).](images/gundersen-2021-survey-def-repro.jpg)
:::
::::


## What does reproducibility mean actually?

<br/>

::: fragment
-   **Direct reproducibility** [(commonly '*replication*' or '*experimental reproducibility*')]{.smaller}
:::

::: fragment
-   **Analytical reproducibility** [(commonly '*computational reproducibility*')]{.smaller}
:::

::: fragment
-   **Systemic reproducibility** [(commonly '*robustness*')]{.smaller}
:::

::: fragment
-   **Conceptual reproducibility** [(commonly '*generalisation*')]{.smaller}
:::

::: aside
<ul style="list-style: none;">

<li>Schloss, 2018. DOI: [10.1128/mbio.00525-18](https://doi.org/10.1128/mbio.00525-18)</li>

<li>National Academies of Sciences, Engineering, and Medicine. 2019. Reproducibility and Replicability in Science. Washington, DC: The National Academies Press. DOI: [10.17226/25303](https://doi.org/10.17226/25303)</li>

</ul>
:::

## What does reproducibility mean actually? 

<br/>

::: {style="color: #588157;" auto-animate-delay="0.2"}
-   **Direct reproducibility** [(commonly '*replication*' or '*experimental reproducibility*')]{.smaller}
:::

::: {style="color: #588157;" auto-animate-delay="0.2"}
-   **Analytical reproducibility** [(commonly '*computational reproducibility*')]{.smaller}
:::

::: {style="opacity: .5;" auto-animate-delay="0.2"}
-   **Systemic reproducibility** [(commonly '*robustness*')]{.smaller}
:::

::: {style="opacity: .5;" auto-animate-delay="0.2"}
-   **Conceptual reproducibility** [(commonly '*generalisation*')]{.smaller}
:::




::: aside
<ul style="list-style: none;">

<li>Schloss, 2018. DOI: [10.1128/mbio.00525-18](https://doi.org/10.1128/mbio.00525-18)</li>

<li>National Academies of Sciences, Engineering, and Medicine. 2019. Reproducibility and Replicability in Science. Washington, DC: The National Academies Press. DOI: [10.17226/25303](https://doi.org/10.17226/25303)</li>

</ul>
:::

## In other words... 

<br/> <br/>

:::::: r-hstack
::: {.fragment data-id="box1" auto-animate-delay="0" style="background: #A8DADC; width: 300px; height: 200px; margin: 10px; display: flex; justify-content: center; align-items: center;"}
Data
:::

::: {.fragment data-id="box2" auto-animate-delay="0.1" style="background: #AECBFA; width: 300px; height: 200px; margin: 10px; display: flex; justify-content: center; align-items: center;"}
Code
:::

::: {.fragment data-id="box3" auto-animate-delay="0.2" style="background: #D4A5E6; width: 300px; height: 200px; margin: 10px; display: flex; justify-content: center; align-items: center;"}
Documentation
:::
::::::

## In other words... 

<br/> <br/>

:::::: r-stack
::: {data-id="box1" style="background: #A8DADC; width: 700px; height: 400px; border-radius: 50px;"}
:::

::: {data-id="box2" style="background: #AECBFA; width: 600px; height: 300px; border-radius: 50px;"}
:::

::: {data-id="box3" style="background: #D4A5E6; width: 500px; height: 200px; border-radius: 50px; display: flex; justify-content: center; align-items: center;"}
Reproducible Research
:::
::::::

## The "Reproducibility Crisis" 

<br/>

::::: columns
::: {.column width="50%"}
![Baker, M. 1,500 scientists lift the lid on reproducibility. Nature 533, 452–454 (2016). DOI:  [10.1038/533452a](https://doi.org/10.1038/533452a).](images/nature-reproducibility-crisis.png){width="700" fig-align="center"}
:::

::: {.column width="50%"}
<br/> <br/>

-   70% of researchers can't reproduce others' findings
-   60% can't reproduce **their own findings**
-   Non-reproducible biomedical research costs $28 billion/year [@freedman2015]
:::
:::::

## How important is it? 

## How important is it? Well, quite important 

</br> </br>

::: incremental
-   Funders (e.g., ANR) and journals now require data and code accessibility, which aligns with the growing open-science movement
-   ~~If I keep my data and code, I have a competitive advantage~~
-   If I share my data and code, my work will gain more visibility (and citations :sunglasses:)
:::

## Advantages

</br> </br>

::: incremental
-   It obliges you to verify your work (by sharing both docs, data and code)
-   [Your future self]{.nice-green} will thank you (you'll be much more productive)
-   Your collaborators too
-   By ensuring reproducibility, you reinforce your credibility and reputation
-   Reproducibility fosters [trust]{.nice-green} in scientific progress and [accelerates]{.nice-green} it
:::

# Sources of irreproducibility {#sources-of-nr}

## What sources of irreproducibility<br />can you think of? :thinking: {style="text-align: center;"}

Let's chat!

## Factors decreasing reproducibility

::::: columns
::: {.column width="50%"}

<br/> <br/> <br/>

-   Failures of reproducibility cannot be traced to a single cause
-   Nearly every aspect of a study needs to be considered

:::

::: {.column width="50%"}
![Baker, M. 1,500 scientists lift the lid on reproducibility. Nature 533, 452–454 (2016). DOI:  [10.1038/533452a](https://doi.org/10.1038/533452a).](images/nature-factors-irrepro.png){fig-align="center"}
:::
:::::

## Protocol drawing exercise

I really want to 



# Every little helps:<br />Literate Programming with Quarto {#lp-quarto}

<!-- ![](images/blabla.png) {.r-stretch} -->

<!-- To draw attention to a specific part of the text, you might want to make it [red]{style="color: red;"} with a [yellow background]{style="background-color: yellow;"}; [like this]{style="color: red; background-color: yellow;"}. -->

<!-- ![The Turing Way project illustration by Scriberia. Used under a CC-BY 4.0 licence. DOI: [10.5281/zenodo.3332807](https://doi.org/10.5281/zenodo.3332807).](images/rr-map-illustration.png) -->

# References {#refs}
